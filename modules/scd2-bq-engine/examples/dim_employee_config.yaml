# Example SCD2 Configuration for Employee Dimension
# Generated by: scd2-bq-engine

dimension_name: dim_employee
source_table: payroll_project.staging.stg_employees

# Business keys (unique identifiers)
business_keys:
  - employee_number

# Columns to track for changes (SCD2)
tracked_columns:
  - first_name
  - last_name
  - date_of_birth
  - job_code
  - department
  - location
  - manager_id
  - cost_center
  - employment_category
  - union_flag
  - employment_status

# Metadata columns (not tracked for changes)
meta_columns:
  - hire_date
  - termination_date
  - created_at
  - updated_at

# SCD2 configuration
hash_algorithm: md5
surrogate_key_name: employee_key
effective_from_col: effective_from
effective_to_col: effective_to
is_current_col: is_current
hash_col: row_hash

# Advanced features
handle_late_arrivals: true
soft_delete: true

# BigQuery optimization
partition_by: effective_from
cluster_by:
  - employee_number
  - is_current
  - department

# Project configuration
project_id: your_project_id
dataset_id: warehouse

